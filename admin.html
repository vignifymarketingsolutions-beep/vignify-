<!DOCTYPE html>
<html lang="en">
<head>
    
<meta http-equiv="refresh" content="0; url=https://app.firecms.co/YOUR_PROJECT_ID" />
<script>window.location.href = "https://app.firecms.co/YOUR_PROJECT_ID";</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin CMS - Vignify Marketing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

     <link rel="icon" type="image/svg+xml" href="favicon.svg1.svg" />
     <link rel="icon" type="image/png" href="favicon96.png" sizes="96x96" />
    <link rel="shortcut icon" href="favicon.ico1.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="apple png.png" />
    <link rel="manifest" href="site.webmanifest1.webmanifest" />

    <style>
        .insta-btn { background: linear-gradient(45deg, #feda75, #fa7e1e, #d62976, #962fbf); color: white; transition: 0.3s; }
        .insta-btn:hover { opacity: 0.9; transform: translateY(-1px); }
    </style>
</head>
<body class="bg-gray-100 font-sans">

    <div id="login-overlay" class="fixed inset-0 bg-gray-900 z-50 flex items-center justify-center">
        <div class="bg-white p-8 rounded-xl shadow-2xl w-96 text-center">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">Vignify Admin</h2>
            <p class="mb-4 text-gray-500">Enter pin to manage blogs.</p>
            <input type="password" id="pinInput" placeholder="Enter PIN (1234)" class="w-full border p-2 rounded mb-4 text-center">
            <button onclick="checkLogin()" class="insta-btn w-full py-2 rounded-lg font-bold">Access Panel</button>
        </div>
    </div>

    <div class="flex h-screen overflow-hidden">
        <div class="w-64 bg-white shadow-md hidden md:block">
            <div class="p-6">
                <h1 class="text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-purple-600">Vignify CMS</h1>
            </div>
            <nav class="mt-6">
                <a href="#" class="block py-3 px-6 bg-gray-100 text-pink-600 font-bold border-r-4 border-pink-500"><i class="fas fa-pen-nib mr-2"></i> Manage Blogs</a>
                <a href="blog.html" target="_blank" class="block py-3 px-6 text-gray-600 hover:bg-gray-50"><i class="fas fa-external-link-alt mr-2"></i> View Live Site</a>
            </nav>
        </div>

        <div class="flex-1 overflow-auto p-8">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Blog Manager</h2>
                <div class="text-sm text-gray-500">Logged in as: <span class="font-bold text-pink-600">Admin</span></div>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                
                <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-sm h-fit">
                    <h3 class="text-xl font-bold mb-4 border-b pb-2">Add New Post</h3>
                    <form id="postForm" onsubmit="addPost(event)">
                        <div class="mb-3">
                            <label class="block text-xs font-bold text-gray-500 mb-1">Blog Title</label>
                            <input type="text" id="title" required class="w-full border p-2 rounded focus:ring-2 focus:ring-pink-300 outline-none">
                        </div>
                        
                        <div class="mb-3">
                            <label class="block text-xs font-bold text-gray-500 mb-1">Category</label>
                            <select id="category" class="w-full border p-2 rounded">
                                <option>SEO</option>
                                <option>Social Media</option>
                                <option>Branding</option>
                                <option>News</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="block text-xs font-bold text-gray-500 mb-1">Image URL (Use Unsplash link)</label>
                            <input type="text" id="image" placeholder="https://..." required class="w-full border p-2 rounded focus:ring-2 focus:ring-pink-300 outline-none">
                        </div>

                        <div class="mb-3">
                            <label class="block text-xs font-bold text-gray-500 mb-1">Author Name</label>
                            <input type="text" id="author" value="B. Vigneshwara Rao" class="w-full border p-2 rounded">
                        </div>

                        <div class="mb-3">
                            <label class="block text-xs font-bold text-gray-500 mb-1">Short Description</label>
                            <textarea id="desc" rows="3" required class="w-full border p-2 rounded focus:ring-2 focus:ring-pink-300 outline-none"></textarea>
                        </div>

                        <button type="submit" class="insta-btn w-full py-2 rounded font-bold shadow-md">Publish Post</button>
                    </form>
                </div>

                <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-sm">
                    <div class="flex justify-between mb-4">
                        <h3 class="text-xl font-bold">Published Posts</h3>
                        <button onclick="clearAll()" class="text-xs text-red-500 underline">Reset All</button>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="bg-gray-50 text-gray-600 text-sm">
                                    <th class="p-3">Date</th>
                                    <th class="p-3">Image</th>
                                    <th class="p-3">Title</th>
                                    <th class="p-3">Category</th>
                                    <th class="p-3 text-right">Action</th>
                                </tr>
                            </thead>
                            <tbody id="postsTableBody">
                                </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        // 1. Login Simulation
        function checkLogin() {
            const pin = document.getElementById('pinInput').value;
            if (pin === "1234") {
                document.getElementById('login-overlay').style.display = 'none';
            } else {
                alert("Wrong PIN!");
            }
        }

        // 2. Fetch and Render Posts
        function renderAdminPosts() {
            const tableBody = document.getElementById('postsTableBody');
            let posts = JSON.parse(localStorage.getItem('vignify_posts')) || [];
            
            tableBody.innerHTML = '';

            posts.forEach((post, index) => {
                const row = `
                    <tr class="border-b hover:bg-gray-50 text-sm">
                        <td class="p-3 text-gray-500">${post.date}</td>
                        <td class="p-3"><img src="${post.image}" class="w-10 h-10 object-cover rounded"></td>
                        <td class="p-3 font-semibold">${post.title}</td>
                        <td class="p-3"><span class="bg-blue-100 text-blue-600 px-2 py-1 rounded text-xs">${post.category}</span></td>
                        <td class="p-3 text-right">
                            <button onclick="deletePost(${index})" class="text-red-500 hover:text-red-700 bg-red-100 w-8 h-8 rounded-full"><i class="fas fa-trash"></i></button>
                        </td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        }

        // UPDATED addPost Function for admin.html
function addPost(e) {
    e.preventDefault();
    
    // Get values from form
    const title = document.getElementById('title').value;
    const category = document.getElementById('category').value;
    const image = document.getElementById('image').value;
    const author = document.getElementById('author').value;
    const desc = document.getElementById('desc').value;
    
    // Generate Date
    const dateOptions = { year: 'numeric', month: 'short', day: 'numeric' };
    const date = new Date().toLocaleDateString('en-US', dateOptions);

    // Generate Unique ID using Timestamp (Essential for links to work!)
    const id = Date.now(); 

    const newPost = { id, title, category, image, author, desc, date };

    // Save to LocalStorage
    let posts = JSON.parse(localStorage.getItem('vignify_posts')) || [];
    posts.unshift(newPost);
    localStorage.setItem('vignify_posts', JSON.stringify(posts));

    // Reset Form & Reload Table
    document.getElementById('postForm').reset();
    renderAdminPosts();
    alert("Post Published Successfully!");
}
        // 4. Delete Post
        function deletePost(index) {
            if(confirm("Are you sure you want to delete this blog?")) {
                let posts = JSON.parse(localStorage.getItem('vignify_posts'));
                posts.splice(index, 1);
                localStorage.setItem('vignify_posts', JSON.stringify(posts));
                renderAdminPosts();
            }
        }

        // 5. Clear All (For debug)
        function clearAll() {
            if(confirm("Delete ALL posts?")) {
                localStorage.removeItem('vignify_posts');
                renderAdminPosts();
            }
        }

        // Init
        renderAdminPosts();
    </script>
</body>
</html>